{% extends 'base.html.twig' %}

{% block title %}
Settings
{% endblock %}

{% block content %}
    <section class="content-header">
        <h1>Settings</h1>
    </section>

    <section class="content">
        <div class="row">
            <div class="col-lg-12 col-centered">
                <div class="box box-primary">
                    <div class="box-body">
                        <div class="col-lg-4 col-lg-offset-4">
                            <form action="{{ path('app_settings') }}" method="post">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="row text-center">
                                            <div class="row user-header">
                                                <img src="{{ asset('static/img/default-profile.jpg') }}" class="img-circle align-center" alt="User Image" width="100px" height="100px" />
                                            </div>
                                            <div class="profile-picture-input row col-sm-8 col-sm-offset-2">
                                                <div class="input-group">
                                                    <label class="input-group-btn">
                                                        <span class="btn btn-primary btn-file">
                                                            Browse&hellip; <input accept="image/*" type="file" style="display: none;">
                                                        </span>
                                                    </label>
                                                    <input type="text" class="form-control" readonly value="Choose a profile picture...">
                                                </div>
                                            </div>
                                            <div class="row col-sm-8 col-sm-offset-2">
                                                <span><h2>{{ app.user.fullname | capitalize }}</h2></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr />
                                <div><h4>User Settings</h4></div>
                                <div class="form-group has-feedback">
                                    <input type="text" class="form-control" placeholder="Username" value="{{ app.user.username }}" readonly>
                                    <span class="glyphicon glyphicon-user form-control-feedback"></span>
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <input type="text" class="form-control" placeholder="Full name" value="{{ app.user.fullname }}">
                                    <span class="glyphicon glyphicon-user form-control-feedback"></span>
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <input type="text" class="form-control" placeholder="Email" value="{{ app.user.email }}">
                                    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <input type="password" class="form-control" placeholder="Password">
                                    <span class="glyphicon glyphicon-lock form-control-feedback"></span>
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <input type="password" class="form-control" placeholder="Confirm Password">
                                    <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
                                    <span class="help-block text-red"></span>
                                </div>
                                <hr />
                                <div><h4>Profile Settings</h4></div>
                                <div class="form-group has-feedback">
                                    <label for="about-me">About me:</label>
                                    <textarea rows="5" id="about-me" class="form-control" value=""></textarea>
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <label for="education">Education:</label>
                                    <input type="text" id="education" class="form-control" value="" />
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <label for="age">Age:</label>
                                    <input type="number" id="age" class="form-control" value="" />
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="form-group has-feedback">
                                    <label for="Location">Location:</label>
                                    <input type="text" id="Location" class="form-control" value="" />
                                    <span class="help-block text-red"></span>
                                </div>
                                <div class="row">
                                    <div class="col-xs-9"></div>
                                    <!-- /.col -->
                                    <div class="col-xs-3">
                                        <button type="submit" class="btn btn-primary btn-block btn-flat">Save Changes</button>
                                    </div>
                                    <!-- /.col -->
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block js %}
<script>
    $(function() {
        $(document).on('change', ':file', function() {
            var input = $(this),
                label = "Choose a profile picture...";

            if (input.val() !== "") {
                label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
            }
            input.trigger('fileselect', [label]);
        });

        $(document).ready( function() {
            $(':file').on('fileselect', function(event, label) {
                var input = $(this).parents('.input-group').find(':text');
                input.val(label);
            });
        });
    });
</script>
{% endblock %}